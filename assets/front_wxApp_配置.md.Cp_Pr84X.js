import{_ as t,c as i,a4 as a,o as e}from"./chunks/framework.BDeXF6e8.js";const g=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"front/wxApp/配置.md","filePath":"front/wxApp/配置.md","lastUpdated":1727428008000}'),n={name:"front/wxApp/配置.md"};function l(p,s,h,o,k,r){return e(),i("div",null,s[0]||(s[0]=[a(`<h2 id="小程序配置文件" tabindex="-1">小程序配置文件 <a class="header-anchor" href="#小程序配置文件" aria-label="Permalink to &quot;小程序配置文件&quot;">​</a></h2><h3 id="_1-配置文件介绍" tabindex="-1">1. 配置文件介绍 <a class="header-anchor" href="#_1-配置文件介绍" aria-label="Permalink to &quot;1. 配置文件介绍&quot;">​</a></h3><p><code>JSON</code>是一种轻量级的数据格式，常用于前后端数据的交互，但是在小程序中，<code>JSON</code> 扮演的静态配置的角色，用于配置当前页面或组件的属性和行为，每个页面或组件也都可以拥有一个对应的 json 文件。</p><p>小程序中常见的配置文件有以下几种：</p><ol><li>全局配置文件：<code>app.json</code> ➡ 小程序全局配置文件，用于配置小程序的一些全局属性和页面路由。</li><li>局部配置文件：<code>页面.json </code> ➡ 小程序页面配置文件，用于配置当前页面的窗口样式、页面标题等</li><li>项目配置文件：<code>project.config.json</code> ➡ 小程序项目的配置文件，用于保存项目的一些配置信息和开发者的个人设置</li><li>搜索配置文件：<code>sitemap.json</code> ➡ 配置小程序及其页面是否允许被微信索引，提高小程序在搜索引擎搜索到的概率</li></ol><p>下面我们依次来说明一下它们的用途。</p><h3 id="_2-全局配置" tabindex="-1">2. 全局配置 <a class="header-anchor" href="#_2-全局配置" aria-label="Permalink to &quot;2. 全局配置&quot;">​</a></h3><p>小程序 <code>app.json</code> 文件是小程序的全局配置文件，用于配置小程序的一些全局属性和页面路由。</p><p>当小程序启动时，会自动读取 <code>app.json</code> 文件中的配置，根据配置生成对应的页面和组件、界面表现、网络超时时间、底部 tab，在小程序运行过程中起着关键的作用。</p><h4 id="_2-1-pages" tabindex="-1">2.1 pages <a class="header-anchor" href="#_2-1-pages" aria-label="Permalink to &quot;2.1 pages&quot;">​</a></h4><p><code>pages</code> 字段：用于指定小程序由哪些页面组成，用于为了让小程序知道由哪些页面组成以及页面定义在哪个目录，每一项都对应一个页面的 路径（含文件名） 信息。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;pages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;pages/index/index&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;pages/list/list&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><blockquote><p>📌 <strong>注意事项：</strong></p><ol><li>文件名不需要写文件后缀框架会自动去寻找对应位置的 <code>.json</code>, <code>.js</code>, <code>.wxml</code>, <code>.wxss</code> 四个文件进行处理</li><li>小程序中新增/减少页面，都需要对 pages 数组进行修改。</li><li>未指定 <code>entryPagePath</code> 时，数组的第一项代表小程序的初始页面（首页）</li></ol></blockquote><blockquote><p>🔔 <strong>开发小技巧</strong>：</p><p>​ 可以通过配置小程序的页面路径快速生成小程序的页面</p></blockquote><p>详细文档: <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#pages" target="_blank" rel="noreferrer">pages 配置项</a></p><h4 id="_2-2-window" tabindex="-1">2.2 window <a class="header-anchor" href="#_2-2-window" aria-label="Permalink to &quot;2.2 window&quot;">​</a></h4><p><code>window</code>字段： 用于设置小程序的状态栏、导航条、标题、窗口背景色。</p><img src="https://gitee.com/gbsy/imgs/raw/master/typora-img/window配置项.png" alt="window配置项" style="zoom:67%;"><table tabindex="0"><thead><tr><th style="text-align:center;">属性</th><th style="text-align:center;">描述</th><th style="text-align:center;">类型</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">navigationBarBackgroundColor</td><td style="text-align:center;">导航栏背景颜色</td><td style="text-align:center;">HexColor</td><td style="text-align:center;">#000000</td></tr><tr><td style="text-align:center;">navigationBarTextStyle</td><td style="text-align:center;">导航栏标题颜色，仅支持 <code>black</code> / <code>white</code></td><td style="text-align:center;">string</td><td style="text-align:center;">white</td></tr><tr><td style="text-align:center;">navigationBarTitleText</td><td style="text-align:center;">导航栏标题文字内容</td><td style="text-align:center;">string</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">backgroundColor</td><td style="text-align:center;">下拉 loading 的样式，仅支持 <code>dark</code> / <code>light</code></td><td style="text-align:center;">string</td><td style="text-align:center;">dark</td></tr><tr><td style="text-align:center;">enablePullDownRefresh</td><td style="text-align:center;">是否开启全局的下拉刷新</td><td style="text-align:center;">boolean</td><td style="text-align:center;">false</td></tr><tr><td style="text-align:center;">onReachBottomDistance</td><td style="text-align:center;">页面上拉触底事件触发时距页面底部距离单位为 px</td><td style="text-align:center;">number</td><td style="text-align:center;">50</td></tr></tbody></table><p>我们按照下图来配置 <code>window</code></p><p><img src="https://gitee.com/gbsy/imgs/raw/master/typora-img/window.jpg" alt="window"></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;window&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;backgroundTextStyle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;light&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;backgroundColor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#eee&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;navigationBarBackgroundColor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#f3514f&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;navigationBarTitleText&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;慕尚花坊&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;navigationBarTextStyle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;white&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;enablePullDownRefresh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>详细文档: <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#window" target="_blank" rel="noreferrer">window 配置项</a></p><h4 id="_2-3-tabbar" tabindex="-1">2.3 tabBar <a class="header-anchor" href="#_2-3-tabbar" aria-label="Permalink to &quot;2.3 tabBar&quot;">​</a></h4><p><code>tabBar</code> 字段：定义小程序顶部、底部 <code>tab</code> 栏，如果小程序是一个多 tab 应用，例如：可以在客户端窗口的底部或顶部通过 tab 栏可以切换页面，可以通过 tabBar 配置项指定 tab 栏的表现，以及 tab 切换时显示的对应页面。</p><img src="https://gitee.com/gbsy/imgs/raw/master/typora-img/tabBar配置项.png" alt="tabBar配置项" style="zoom:67%;"><p><strong><code>tabBar</code> 配置项</strong></p><table tabindex="0"><thead><tr><th style="text-align:center;">属性</th><th style="text-align:center;">描述</th><th style="text-align:center;">类型</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">color</td><td style="text-align:center;">tab 上的文字默认颜色，仅支持十六进制颜色</td><td style="text-align:center;">HexColor</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">selectedColor</td><td style="text-align:center;">tab 上的文字选中时的颜色，仅支持十六进制颜色</td><td style="text-align:center;">HexColor</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">backgroundColor</td><td style="text-align:center;">tab 的背景色，仅支持十六进制颜色</td><td style="text-align:center;">HexColor</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">borderStyle</td><td style="text-align:center;">tabbar 上边框的颜色， 仅支持 <code>black</code> / <code>white</code></td><td style="text-align:center;">string</td><td style="text-align:center;">black</td></tr><tr><td style="text-align:center;">list</td><td style="text-align:center;">tab 的列表，详见 <code>list</code> 属性说明，最少 2 个、最多 5 个 tab</td><td style="text-align:center;"></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">position</td><td style="text-align:center;">tabBar 的位置，仅支持 <code>bottom</code> / <code>top</code></td><td style="text-align:center;">string</td><td style="text-align:center;">bottom</td></tr></tbody></table><p><strong>List 配置项</strong>：list 是一个数组，<strong>只能配置最少 2 个、最多 5 个 tab</strong>，tab 按数组的顺序排序，每个项都是一个对象</p><table tabindex="0"><thead><tr><th style="text-align:center;">属性</th><th style="text-align:center;">描述</th><th style="text-align:center;">类型</th><th style="text-align:center;">是否必填</th></tr></thead><tbody><tr><td style="text-align:center;">pagePath</td><td style="text-align:center;">页面路径，必须在 pages 中先定义</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td></tr><tr><td style="text-align:center;">text</td><td style="text-align:center;">tab 上按钮文字</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td></tr><tr><td style="text-align:center;">iconPath</td><td style="text-align:center;">图片路径，icon 大小限制为 40kb，<br>建议尺寸为 81px * 81px，</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td></tr><tr><td style="text-align:center;">selectedIconPath</td><td style="text-align:center;">选中时的图片路径，icon 大小限制为 40kb，<br>建议尺寸为 81px * 81px，不支持网络图片。</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td></tr></tbody></table><blockquote><p>📌 <strong>注意事项：</strong></p><ol><li>list 是一个数组，<strong>只能配置最少 2 个、最多 5 个 tab</strong></li><li>当 <code>position</code> 为 <code>top</code> 时，不显示 icon</li></ol></blockquote><p>我们按照下图来配置 <code>tabBar</code></p><img src="https://gitee.com/gbsy/imgs/raw/master/typora-img/tabBar.jpg" style="zoom:70%;border:1px solid #ccc;"><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;tabBar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;color&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#252933&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;selectedColor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#FF734C&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;backgroundColor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#ffffff&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;borderStyle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;black&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;list&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;首页&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;iconPath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/assets/tabbar/home.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;selectedIconPath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/assets/tabbar/home-active.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;pagePath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pages/home/home&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;列表&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;iconPath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/assets/tabbar/list.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;selectedIconPath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/assets/tabbar/list-active.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;pagePath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pages/list/list&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;购物车&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;iconPath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/assets/tabbar/cart.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;selectedIconPath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/assets/tabbar/cart-active.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;pagePath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pages/cart/cart&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;我的&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;iconPath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/assets/tabbar/my.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;selectedIconPath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/assets/tabbar/my-active.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;pagePath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pages/my/my&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>详细文档: <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#tabBar" target="_blank" rel="noreferrer">window 配置项</a></p><h3 id="_3-页面配置" tabindex="-1">3. 页面配置 <a class="header-anchor" href="#_3-页面配置" aria-label="Permalink to &quot;3. 页面配置&quot;">​</a></h3><p>小程序的页面配置，也称局部配置，每一个小程序页面也可以使用自己的 .json 文件来对本页面的窗口表现进行配置</p><p>需要注意的是：<strong>页面配置文件的属性和 全局配置文件中的 window 属性几乎一致</strong></p><p>只不过这里不需要额外指定 window 字段，因此如果出现相同的配置项，页面中配置项 会覆盖全局配置文件中相同的配置项。</p><table tabindex="0"><thead><tr><th style="text-align:center;">属性</th><th style="text-align:center;">描述</th><th style="text-align:center;">类型</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">navigationBarBackgroundColor</td><td style="text-align:center;">导航栏背景颜色</td><td style="text-align:center;">HexColor</td><td style="text-align:center;">#000000</td></tr><tr><td style="text-align:center;">navigationBarTextStyle</td><td style="text-align:center;">导航栏标题颜色，仅支持 <code>black</code> / <code>white</code></td><td style="text-align:center;">string</td><td style="text-align:center;">white</td></tr><tr><td style="text-align:center;">navigationBarTitleText</td><td style="text-align:center;">导航栏标题文字内容</td><td style="text-align:center;">string</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">backgroundColor</td><td style="text-align:center;">下拉 loading 的样式，仅支持 <code>dark</code> / <code>light</code></td><td style="text-align:center;">string</td><td style="text-align:center;">dark</td></tr><tr><td style="text-align:center;">enablePullDownRefresh</td><td style="text-align:center;">是否开启全局的下拉刷新</td><td style="text-align:center;">boolean</td><td style="text-align:center;">false</td></tr><tr><td style="text-align:center;">onReachBottomDistance</td><td style="text-align:center;">页面上拉触底事件触发时距页面底部距离单位为 px</td><td style="text-align:center;">number</td><td style="text-align:center;">50</td></tr></tbody></table><blockquote><p>📌 <strong>注意事项</strong>：</p><p>​ 页面配置项和 <code>app.json</code> 中的 <code>window</code> 属性几乎一致，但这里不需要额外指定 <code>window</code> 字段</p></blockquote><img src="http://8.131.91.46:6677/mina/base/商品分类.png" style="zoom:67%;border:1px solid rgb(204, 204, 204);"><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;usingComponents&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {},</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;navigationBarTitleText&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;商品分类&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;navigationBarTextStyle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;white&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;navigationBarBackgroundColor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#00AF92&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;enablePullDownRefresh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;backgroundColor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#eee&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;backgroundTextStyle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;light&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_4-项目配置文件" tabindex="-1">4. 项目配置文件 <a class="header-anchor" href="#_4-项目配置文件" aria-label="Permalink to &quot;4. 项目配置文件&quot;">​</a></h3><p>通常大家在使用一个工具的时候，都会针对各自喜好做一些个性化配置，例如 编译配置等等，当你换了另外一台电脑重新安装工具的时候，你还要重新配置。</p><p>考虑到这点，小程序开发者工具在每个项目的根目录都会生成一个 <code>project.config.json</code>，你在工具上做的任何配置都会写入到这个文件，当你重新安装工具或者换电脑工作时，你只要载入同一个项目的代码包，开发者工具就自动会帮你恢复到当时你开发项目时的个性化配置，其中会包括编辑器的颜色、代码上传时自动压缩等等一系列选项</p><img src="http://8.131.91.46:6677/mina/base/项目配置文件.png" style="zoom:67%;"><p><code>project.config.json</code> 文件中配置公共的配置，</p><p><code>project.private.config.json</code> 配置个人配置</p><p><code>project.private.config.json</code> 文件同样可以对项目进行配置</p><p><code>project.private.config.json</code>中的相同设置优先级高于<code>project.config.json</code></p><blockquote><p>📌 <strong>注意事项</strong>：</p><ol><li><p>project.private.config.json 写到 .gitignore 避免版本管理的冲突。</p></li><li><p>与最终编译结果有关的设置 必须 设置到 project.config.json 中</p></li></ol></blockquote><p>可以在微信开发者工具，点击以下两个配置选项进行相关的设置，然后观察两个文件的变化即可。</p><img src="http://8.131.91.46:6677/mina/base/测试配置文件.png" style="zoom:60%;"><p>项目配置文件的配置选项比较多，如有需要</p><p>大家可以参考详细的官方配置文档：<a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html" target="_blank" rel="noreferrer">项目配置文件</a></p><h3 id="_5-支持使用-sass-less" tabindex="-1">5. 支持使用 sass/less <a class="header-anchor" href="#_5-支持使用-sass-less" aria-label="Permalink to &quot;5. 支持使用 sass/less&quot;">​</a></h3><p>小程序代码包要求代码文件为 wxml / wxss / js / json / wxs。</p><p>如果我们希望使用 sass 或 less 去开发小程序，就需要将 sass / less 文件编译成对应的 wxss 文件。</p><p>在 <code>project.config.json</code> 文件中，修改 <code>setting</code> 下的 <code>useCompilerPlugins</code> 字段为 <code>[&quot;sass&quot;]</code>，即可开启工具内置的 sass 编译插件。 如需同时开启 typescript 编译插件，可将该字段修改为 [&quot;typescript &quot;, &quot;sass&quot;]。 目前支持三个编译插件：typescript、less、sass</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;setting&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;useCompilerPlugins&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;sass&quot;</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>配置好以后，需要将 <code>.wxss</code> 改成 <code>.scss</code></p><blockquote><p>📌 <strong>注意：</strong></p><p>我们在配置的时候，编译插件的名称是 sass，但是文件的后缀名是 .scss</p><p>这是因为 Sass 是 Css 预处理语言，scss 是 Sass 的一个语法版本</p></blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/compilets.html" target="_blank" rel="noreferrer">官方文档：开发辅助，支持以编译插件的形式，扩展编译功能</a></p><h3 id="_6-sitemap-json" tabindex="-1">6. sitemap.json <a class="header-anchor" href="#_6-sitemap-json" aria-label="Permalink to &quot;6. sitemap.json&quot;">​</a></h3><p>微信现已开放小程序内搜索，当开发者允许微信索引时，微信会通过爬虫的形式，为小程序的页面内容建立索引。当用户的搜索词条触发该索引时，小程序的页面将可能展示在搜索结果中。</p><p>可以通过 <code>sitemap.json</code> 配置，或者管理后台页面收录开关来配置其小程序页面是否允许微信索引。语法如下：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;rules&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;page&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>常用配置项：</p><table tabindex="0"><thead><tr><th style="text-align:center;">属性</th><th style="text-align:center;">属性说明</th><th style="text-align:center;">属性值</th></tr></thead><tbody><tr><td style="text-align:center;">action</td><td style="text-align:center;">是否允许被搜索</td><td style="text-align:center;">可选项有：allow 、disallow</td></tr><tr><td style="text-align:center;">page</td><td style="text-align:center;">允许/不允许被搜索的页面</td><td style="text-align:center;">页面路径或者通配符</td></tr></tbody></table><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 所有页面都会被微信索引（默认情况）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;rules&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;page&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 配置 path/to/page 页面不被索引，其余页面允许被索引</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;rules&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;disallow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;page&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;path/to/page&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><blockquote><p>📌 <strong>注意事项</strong>：</p><ol><li>没有 sitemap.json 则默认所有页面都能被索引</li><li>sitemap.json 文件中默认的设置，是优先级最低的默认规则，所有页面都会被微信索引</li></ol></blockquote>`,73)]))}const c=t(n,[["render",l]]);export{g as __pageData,c as default};
